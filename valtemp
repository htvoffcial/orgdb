    function validateCheckDigit() { let randomNumber = document.getElementById("randomNumberInput").value; if (randomNumber.length !== 13) { document.getElementById("validationResult").innerText = "13桁の番号を入力してください。"; return; } let lastDigit = parseInt(randomNumber.charAt(12)); let truncatedNumber = randomNumber.substring(0, 12); let calculatedCheckDigit = calculateCheckDigit(truncatedNumber); if (lastDigit === calculatedCheckDigit) { document.getElementById("validationResult").innerHTML = "組織番号のチェックディジットは正しいです。<br><a href='history.html?id="+document.getElementById("randomNumberInput").value+"' style='color:lightblue;'>この組織番号で検索</a>"; } else { document.getElementById("validationResult").innerText = "チェックディジットが正しくありません。"; } } function calculateCheckDigit(randomNumber) { let evenParity = 0; let oddParity = 0; for (let i = 0; i < 12; i++) { if (i % 2 === 0) { evenParity += parseInt(randomNumber[i]); } else { oddParity += parseInt(randomNumber[i]); } } let checkDigit = (evenParity + oddParity) % 10; return checkDigit; }